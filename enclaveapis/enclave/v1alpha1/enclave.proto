// A continuous stream with an Enclave
service EnclaveStreamService {
    rpc DoStuff(stream StuffRequests) return (stream StuffResponse);
}

service EnclaveUnaryService {
    rpc DoStuff(ActualRequest) return (ActualResponse);
}

// Place holder for now
message ActualRequest {
    bytes stuff = 1;
}

message StuffRequest {
    oneof {
        AttestRequest,
        ActualRequest,
    }
}

message StuffResponse {
    oneof {
        AttestResponse,
        ActualResponse,
    }
}
                   
message AttestedMessage {
    bytes   ciphertext = 1;
    bytes   channel_id = 2;
    bytes   aad = 3;
    fixed64 nonce = 4;
}

